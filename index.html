<html>
<script type="text/javascript">
  function sendMessage() {
    var textInput = document.getElementById('message-text');
    webkit.messageHandlers.native.postMessage(textInput.value);
  }
  
  function onNativeMessage(json) {
    console.log(json);
    var elem = document.getElementById('received-message');
    elem.textContent = JSON.stringify(json);
  }
  
  function sendViewOpenMessage() {
    var message = {
       "messageType":"viewOpen",
       "viewOpen":{
          "content":{
             "placeId":1
          },
          "view":{
             "left":0.1,
             "right":0.9,
             "top":0.1,
             "bottom":0.9
          }
       }
    };
    webkit.messageHandlers.native.postMessage(JSON.stringify(message));
  }
  
</script>
<body>
  <br/>
  <div style="background-color:lightgoldenrodyellow;">
    Message: <input type="text" id="message-text" value="message" /> 
    <input type="button" value="送信" onclick="sendMessage();"/> 
  </div>
  <div>
    <input type="button" value="viewOpen message" onclick="sendViewOpenMessage();"/> 
  </div>
  <br/>
  <br/>
   <div style="background-color:lightgoldenrodyellow;">
    Received:
    <div id="received-message"></div>
    <br/>
  </div>
  <br/>
  <iframe src="https://zen-euclid-6671d3.netlify.app/"
            title="iframe" width="400" height="300">
  </iframe>
</body>
</html>
